<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>fabmo.js - fabmo.js</title>
    <script type="text/javascript" src="http://use.typekit.net/nbm6rcp.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>
    <link rel="stylesheet" href="">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="stylesheet" href="../assets/css/custom.css">
    <link rel="stylesheet" href="../assets/css/lucid.css">
    <link rel="stylesheet" href="../assets/vendor/bootstrap/css/bootstrap.css">
    <link rel="shortcut icon" type="image/png" href="../assets/favicon.png">

</head>
<body class="yui3-skin-sam">
<div class="navbar navbar-fixed-top">
    <div class="navbar-inner">
        <h1 class="brand" style="padding: 10px 16px 10px; height: 20px; line-height: 20px; margin-left: 0;">
            fabmo.js
        </h1>
	<div class="nav">
            <li class="divider-vertical"></li>
            <li>
                <p class="navbar-text">
                    API Docs for Version: <b>v1.0.2</b>
                </p>
            </li>
        </div>
        <!--
        <form class="navbar-form pull-right" style="line-height: 40px; height: 40px;">
            <input style="margin-top: 0;" type="text" class="search-query" placeholder="Search for classes/modules..." data-obj='["classes/FabMoDashboard", "modules/fabmo.js"]'>
        </form>
        -->
    </div>
</div>
<div class="container">
    <div class="row">
<!--       <div class="span3">
<div>
    <div id="sidebar">
    <div id="classes">
        <ul id="api-classes" class="nav nav-list">
                <li><a href="../classes/FabMoDashboard.html">FabMoDashboard</a></li>
        </ul>
    </div>
    </div>
</div>
        </div> -->
        <div class="span12">
<!--    <form id="options-form" class="form-inline pull-right">
        Show:
        <label for="api-show-inherited" class="checkbox">
            <input type="checkbox" id="api-show-inherited" checked>
            Inherited
        </label>

        <label for="api-show-protected" class="checkbox">
            <input type="checkbox" id="api-show-protected">
            Protected
        </label>

        <label for="api-show-private" class="checkbox">
            <input type="checkbox" id="api-show-private">
            Private
        </label>
        <label for="api-show-deprecated" class="checkbox">
            <input type="checkbox" id="api-show-deprecated">
            Deprecated
        </label>

    </form>

-->
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
                        <div class="page-header">
                            <h1>fabmo.js <small>File</small></h1>
                        </div>
                        
                        <div class="file">
                            <pre class="prettyprint linenums">
                        /**
                         * @module fabmo.js
                         */
                        (function (root, factory) {
                           var body = document.getElementsByTagName(&#x27;body&#x27;);
                            if (typeof define === &#x27;function&#x27; &amp;&amp; define.amd) {
                                // AMD
                                define([], factory);
                            } else if (typeof exports === &#x27;object&#x27;) {
                                // Node, CommonJS-like
                                module.exports = factory();
                            } else {
                                // Browser globals (root is window)
                                root.FabMoDashboard = factory();
                            }
                        }(this, function () {
                        
                        /**
                         * The top-level object representing the dashboard.
                         * 
                         * @class FabMoDashboard
                         */
                        var FabMoDashboard = function() {
                            this.version = &#x27;{{FABMO_VERSION}}&#x27;;
                        	this.target = window.parent;
                        	this.window = window;
                        	this._setOptions(options);
                        	this._id = 0;
                        	this._handlers = {};
                        	this.status = {};
                        	this.isReady = false;
                        	this._event_listeners = {
                        		&#x27;status&#x27; : [],
                        		&#x27;job_start&#x27; : [],
                        		&#x27;job_end&#x27; : [],
                        		&#x27;change&#x27; : []
                        	};
                        	this._setupMessageListener();
                            // listen for escape key press to quit the engine
                            document.onkeyup = function (e) {
                                if(e.keyCode == 27) {
                                    console.warn(&quot;ESC key pressed - quitting engine.&quot;);
                                    this.stop();
                                }
                            }.bind(this);
                        
                            if(!this.options.defer) {
                        		this.ready();
                        	}
                        }
                        
                        FabMoDashboard.prototype._setOptions = function(options) {
                        	options = options || {};
                        	this.options = {};
                        	this.options.defer = options.defer || false;
                        }
                        
                        /**
                         * @method isPresent
                         * @return {boolean} True if running in the actual FabMo dashboard.  False otherwise.
                         */
                        FabMoDashboard.prototype.isPresent = function() {
                            try {
                                return window.self !== window.top;
                            } catch (e) {
                                return true;
                            }
                        }
                        
                        FabMoDashboard.prototype._download = function(data, strFileName, strMimeType) {
                        	// https://github.com/rndme/download
                        	// data can be a string, Blob, File, or dataURL
                        	
                        	var self = window 						// this script is only for browsers anyway...
                        	var u = &quot;application/octet-stream&quot; 		// this default mime also triggers iframe downloads
                        	var m = strMimeType || u;
                        	var x = data;
                        	var D = document;
                        	var a = D.createElement(&quot;a&quot;);
                        	var z = function(a){return String(a);};
                        	var B = (self.Blob || self.MozBlob || self.WebKitBlob || z);
                        	var B=B.call ? B.bind(self) : Blob;
                        	var fn = strFileName || &quot;download&quot;;
                        	var blob;
                        	var fr;
                        	
                        	blob = x instanceof B ? x : new B([x], {type: m}) ;
                        
                        	function d2b(u) {
                        		var p= u.split(/[:;,]/),
                        		t= p[1],
                        		dec= p[2] == &quot;base64&quot; ? atob : decodeURIComponent,
                        		bin= dec(p.pop()),
                        		mx= bin.length,
                        		i= 0,
                        		uia= new Uint8Array(mx);
                        		for(i;i&lt;mx;++i) { uia[i]=bin.charCodeAt(i); }
                        		return new B([uia], {type: t});
                        	 }
                        	  
                        	function saver(url, winMode){
                        		
                        		if (&#x27;download&#x27; in a) { //html5 A[download] 			
                        			a.href = url;
                        			a.setAttribute(&quot;download&quot;, fn);
                        			a.innerHTML = &quot;downloading...&quot;;
                        			D.body.appendChild(a);
                        			setTimeout(function() {
                        				a.click();
                        				D.body.removeChild(a);
                        				if(winMode===true){setTimeout(function(){ self.URL.revokeObjectURL(a.href);}, 250 );}
                        			}, 66);
                        			return true;
                        		}
                        
                        		if(typeof safari !==&quot;undefined&quot; ){ // handle non-a[download] safari as best we can:
                        			url=&quot;data:&quot;+url.replace(/^data:([\w\/\-\+]+)/, u);
                        			if(!window.open(url)){ // popup blocked, offer direct download: 
                        				if(confirm(&quot;Displaying New Document\n\nUse Save As... to download, then click back to return to this page.&quot;)){ location.href=url; }
                        			}
                        			return true;
                        		}
                        		
                        		//do iframe dataURL download (old ch+FF):
                        		var f = D.createElement(&quot;iframe&quot;);
                        		D.body.appendChild(f);
                        		
                        		if(!winMode){ // force a mime that will download:
                        			url=&quot;data:&quot;+url.replace(/^data:([\w\/\-\+]+)/, u);
                        		}
                        		f.src=url;
                        		setTimeout(function(){ D.body.removeChild(f); }, 333);
                        		
                        	}//end saver 
                        	
                        	if (navigator.msSaveBlob) { // IE10+ : (has Blob, but not a[download] or URL)
                        		return navigator.msSaveBlob(blob, fn);
                        	} 	
                        	
                        	if(self.URL){ // simple fast and modern way using Blob and URL:
                        		saver(self.URL.createObjectURL(blob), true);
                        	}else{
                        		// handle non-Blob()+non-URL browsers:
                        		if(typeof blob === &quot;string&quot; || blob.constructor===z ){
                        			try{
                        				return saver( &quot;data:&quot; +  m   + &quot;;base64,&quot;  +  self.btoa(blob)  ); 
                        			}catch(y){
                        				return saver( &quot;data:&quot; +  m   + &quot;,&quot; + encodeURIComponent(blob)  ); 
                        			}
                        		}
                        		
                        		// Blob but not URL:
                        		fr=new FileReader();
                        		fr.onload=function(e){
                        			saver(this.result); 
                        		};
                        		fr.readAsDataURL(blob);
                        	}	
                        	return true;
                        } // _download
                        
                        FabMoDashboard.prototype._call = function(name, data, callback) {
                        	if(this.isPresent()) {
                        		//console.debug(&quot;Calling &quot; + name + &quot; with &quot; + JSON.stringify(data));
                        		message = {&quot;call&quot;:name, &quot;data&quot;:data}
                        		if(callback) {
                        			message.id = this._id++;
                        			this._handlers[message.id] = callback;
                        		}
                        		this.target.postMessage(message, &#x27;*&#x27;);
                        	} else {
                        		//console.debug(&quot;Simulating &quot; + name + &quot; with &quot; + JSON.stringify(data));		
                        		this._simulateCall(name, data, callback);
                        	}
                        }
                        
                        FabMoDashboard.prototype._simulateCall = function(name, data, callback) {
                            toaster();
                            var toast = document.getElementById(&#x27;alert-toaster&#x27;);
                            var text = document.getElementById(&#x27;alert-text&#x27;);
                            console.log(text);
                        	switch(name) {
                                
                        		case &quot;submitJob&quot;:
                        			var files = [];
                        			data.jobs.forEach(function(job) {
                        				var name = job.filename || job.file.name;
                        				this._download(job.file, name, &quot;text/plain&quot;);
                        				files.push(name);
                        			}.bind(this));
                        
                        			// Data.length
                        			if(data.jobs.length === 1) {
                        				var msg = &quot;Job Submitted: &quot; + data.jobs[0].filename
                        			} else {
                        				var msg = data.jobs.length + &quot; Jobs Submitted: &quot; + files.join(&#x27;,&#x27;);
                        			}
                        			text.textContent = msg;
                        			showToaster(toast);			
                        		break;
                        
                        		case &quot;runGCode&quot;:
                        			text.textContent = &quot;GCode sent to tool: &quot; + data;
                        		    showToaster(toast);
                        		break;
                        
                        		case &quot;runSBP&quot;:
                        			text.textContent = &quot;OpenSBP sent to tool: &quot; + data;
                        			showToaster(toast);
                        		break;
                        
                        		case &quot;showDRO&quot;:
                        			text.textContent = &quot;DRO Shown.&quot;;
                        			showToaster(toast);
                        		break;
                        
                        		case &quot;hideDRO&quot;:
                        			text.textContent = &quot;DRO Hidden.&quot;;
                        			showToaster(toaster);
                        		break;
                        		
                        		default:
                        			text.textContent = name + &quot; called.&quot;;
                        			showToaster(toast);
                        		break;
                        	}
                        }
                        
                        FabMoDashboard.prototype._on = function(name, callback) {
                        	var message = {&quot;on&quot;:name}
                        	if(callback) {
                        		this._event_listeners[name].push(callback);
                        	}
                        	this.target.postMessage(message, &#x27;*&#x27;);
                        }
                        
                        /**
                         * Bind a callback to the specified event.
                         * 
                         * @method on
                         * @param {String} name Event name
                         * @param {function} callback Event handler
                         */
                        FabMoDashboard.prototype.on = function(name, callback) {
                        	this._on(name, callback);
                        }
                        
                        
                        FabMoDashboard.prototype._setupMessageListener = function() {
                        	this.window.addEventListener(&#x27;message&#x27;, function (evt) {
                        		var message = evt.data;
                        		switch(message.type) {
                        			case &#x27;cb&#x27;:
                        				if(&#x27;id&#x27; in message) {
                        		 			if(message.id in this._handlers) {
                        		 				cb = this._handlers[message.id]
                        		 				if(message.status === &quot;success&quot;) {
                        		 					cb(null, message.data);
                        		 				} else {
                        		 					cb(message.message, null);
                        		 				}
                        		 			}
                        		 		}
                        		 		break;
                        
                        			case &#x27;evt&#x27;:
                        				if(&#x27;id&#x27; in message) {
                        					if(message.id in this._event_listeners) {
                        						listeners = this._event_listeners[message.id]
                        						for(i in listeners) {
                        							listeners[i](message.data);
                        						}
                        					}
                        				}
                        				break;
                        			}
                        	}.bind(this));
                        }
                        
                        /**
                         * Indicate that the app is loaded and ready to go!
                         * @method ready
                         */
                        FabMoDashboard.prototype.ready = function() {
                        	this._call(&#x27;ready&#x27;);
                        	this.isReady = true;
                        }
                        
                        /**
                         * Set the message to display while an app is loading.  You can call this any time before
                         * calling the &#x60;ready()&#x60; function, to indicate loading or setup progress.
                         * @method setBusy
                         * @param {String} The message to display.
                         */
                        FabMoDashboard.prototype.setBusyMessage = function(message) {
                        	this._call(&#x27;setBusyMessage&#x27;, {&#x27;message&#x27; : message});
                        }
                        
                        /**
                         * If this app was invoked from another app, get the arguments (if any) that were passed on invocation.
                         *
                         * @method getAppArgs
                         * @callback {Object} The arguments passed to this app, or undefined.
                         */ 
                        FabMoDashboard.prototype.getAppArgs = function(callback) {
                        	this._call(&quot;getAppArgs&quot;, null, callback);
                        }
                        
                        /**
                         * Get the information for this app.
                         *
                         * @method getAppInfo
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         * @param {Object} callback.info App information
                         * @param {String} callback.info.name The name of the App
                         */
                        FabMoDashboard.prototype.getAppInfo = function(callback) {
                        	this._call(&quot;getAppInfo&quot;, null, callback);
                        }
                        
                        /**
                         * Launch the specified app by app ID, with optional arguments.
                         * 
                         * @method launchApp
                         * @param {String} id The id of the app to launch.
                         * @param {Object} args Arguments object to pass to the app.
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error
                         * @param {Object} callback.app App info for the launched app if launch was successful
                         */
                        FabMoDashboard.prototype.launchApp = function(id, args, callback) {
                        	this._call(&quot;launchApp&quot;, {&#x27;id&#x27;: id, &#x27;args&#x27;:args}, callback);
                        }
                        
                        /**
                         * Show the DRO (Digital ReadOut) in the dashboard if it is not already shown.
                         *
                         * @method showDRO
                         * @param {function} callback Called once the DRO has been displayed.
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.showDRO = function(callback) {
                        	this._call(&quot;showDRO&quot;, null, callback);
                        }
                        
                        /**
                         * Hide the DRO (Digital ReadOut) in the dashboard if it is not already hidden.
                         *
                         * @method hideDRO
                         * @param {function} callback Called once the DRO has been hidden.
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.hideDRO = function(callback) {
                        	this._call(&quot;hideDRO&quot;, null, callback);
                        }
                        
                        /**
                         * Show the Dashboard Modal.
                         *
                         * @method showModal
                         * @param {Object} [options] Options for modal content
                         * @param {function} callback Called once the modal is shown.
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.showModal = function(options, callback) {
                            this._call(&quot;openModal&quot;, options, callback);
                        }
                        
                        /**
                         * Hide the Dashboard Modal.
                         *
                         * @method hideModal
                         * @param {function} callback Called once the DRO has been hidden.
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.hideModal = function(callback) {
                            this._call(&quot;closeModal&quot;, null, callback);
                        }
                        
                        
                        
                        /**
                         * Show a notification on the dashboard.  Notifications typically show up as toaster message somewhere on the dashboard, 
                         * but the dashboard reserves the right to format or even suppress these messages as suits its needs.
                         *
                         * @method notify
                         * @param {String} type Type of message, which can be one of &#x60;info&#x60;,&#x60;warn&#x60;,&#x60;error&#x60;, or &#x60;success&#x60;
                         * @param {String} message The text to be displayed in the notification.
                         * @param {function} callback Called once the message has been displayed
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.notify = function(type, message, callback) {
                        	this._call(&quot;notify&quot;, {&#x27;type&#x27;:type, &#x27;message&#x27;:message}, callback);
                        }
                        
                        
                        // Notification functions
                        FabMoDashboard.prototype.notification = function(type,message,callback) {
                        	this._call(&quot;notification&quot;, {&#x27;type&#x27;:type,&#x27;message&#x27;:message}, callback);
                        }
                        FabMoDashboard.prototype.notify = FabMoDashboard.prototype.notification;
                        
                        function _makeFile(obj) {
                        	if(obj instanceof jQuery) {
                        		if(obj.is(&#x27;input:file&#x27;)) {
                        			obj = obj[0];
                        		} else {
                        			obj = obj.find(&#x27;input:file&#x27;)[0];
                        		}
                        		file = obj.files[0];
                        	} else if(obj instanceof HTMLInputElement) {
                        		file = obj.files[0];
                        	} else if(obj instanceof File || obj instanceof Blob) {
                        		file = obj;
                        	} else if(typeof obj === &quot;string&quot;) {
                        		file = new Blob([obj], {&#x27;type&#x27; : &#x27;text/plain&#x27;});
                        	} else {
                        		throw new Error(&#x27;Cannot make File object out of &#x27; + obj);
                        	}
                        	return file;
                        }
                        
                        function _makeApp(obj) {
                        	return {file : _makeFile(obj)};
                        }
                        
                        function _makeJob(obj) {
                        	var file = null;
                        
                        	try {
                        		file = _makeFile(obj);
                        	} catch(e) {}
                        
                        	if(file) {
                        		return {file : file};
                        	} else {
                        		var job = {};
                        		for (var key in obj) {
                          			if (obj.hasOwnProperty(key)) {
                          				if(key === &#x27;file&#x27;) {
                          					job[&#x27;file&#x27;] = _makeFile(obj.file);
                          				} else {
                          					job[key] = obj[key];
                          				}
                          			}
                        		}
                        		return job;
                        	}
                        }
                        
                        /**
                         * Submit one or more jobs to the dashboard.
                         * @param {Array|Object|jQuery} jobs A single job object, an array containing multiple job objects, or a jQuery object that points to a file type form input, or a form containing a file type input.
                         * @param {Object} [options] Options for job submission
                         * @todo Finish documenting this function
                         */
                        FabMoDashboard.prototype.submitJob = function(jobs, options, callback) {
                        	var args = {jobs : []};
                        
                        	if(jobs instanceof jQuery) {
                        		if(jobs.is(&#x27;input:file&#x27;)) {
                        			jobs = obj[0];
                        		} else {
                        			jobs = jobs.find(&#x27;input:file&#x27;)[0];
                        		}
                        		var files = jobs.files;
                        		if(files.length) {
                        			jobs = [];
                        			for(var i=0; i&lt;files.length; i++) {
                        				jobs.push(files[i]);
                        			}
                        		}
                        	} else {
                        		if(!jobs.length) {
                        			jobs = [jobs];
                        		}
                        	}
                        
                        	for(var i=0; i&lt;jobs.length; i++) {
                        		args.jobs.push(_makeJob(jobs[i]));
                        	}
                        	
                        	if(typeof options === &#x27;function&#x27;) {
                        		callback = options;
                        		options = {};
                        	}
                        
                        	args.options = options || {};
                        	this._call(&quot;submitJob&quot;, args, callback)
                        }
                        
                        /**
                         * Resubmit a job by its ID.  Resubmitted jobs come in at the back of the job queue.
                         * 
                         * @method resubmitJob
                         * @param {Number} id The ID of the job to resubmit
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.resubmitJob = function(id, callback) {
                        	this._call(&quot;resubmitJob&quot;, id, callback)
                        }
                        
                        /**
                         * Cancel a job that is pending.
                         * 
                         * @method cancelJob
                         * @param {Number} id The ID of the job to cancel
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.cancelJob = function(id, callback) {
                        	this._call(&quot;cancelJob&quot;, id, callback)
                        }
                        
                        /**
                         * Get information about a job.  This works for jobs that are pending, currently running, or in the history.
                         * 
                         * @method getJobInfo
                         * @param {Number} id The ID of the job to cancel
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         * @param {Object} callback.job Information about the requested job.
                         * @param {String} callback.job.name Job name
                         * @param {String} callback.job.description Job description
                         * @param {Number} callback.job.created_at Job creation time (UTC datetime)
                         * @param {Number} callback.job.started_at Job start time (UTC datetime)
                         * @param {Number} callback.job.finished_at Job completion time (UTC datetime)
                         * @param {String} callback.job.state Current state of the job.  One of &#x60;pending&#x60;,&#x60;running&#x60;,&#x60;finished&#x60;,&#x60;cancelled&#x60; or &#x60;failed&#x60;
                         */
                        FabMoDashboard.prototype.getJobInfo = function(id, callback) {
                        	this._call(&quot;getJobInfo&quot;, id, callback)
                        }
                        
                        /**
                         * Get a list of jobs that are currently pending and running.
                         * 
                         * @method getJobsInQueue
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         * @param {Object} callback.jobs Object containing both the pending and running jobs
                         * @param {Array} callback.jobs.pending List of pending jobs.  May be empty.
                         * @param {Array} callback.jobs.running List of running jobs.  May be empty.
                         */
                        FabMoDashboard.prototype.getJobsInQueue = function(callback) {
                        	this._call(&quot;getJobsInQueue&quot;,null, callback);
                        }
                        
                        /**
                         * Remove all pending jobs from the queue.
                         * 
                         * @method clearJobQueue
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.clearJobQueue = function(callback) {
                        	this._call(&quot;clearJobQueue&quot;,null, callback);
                        }
                        
                        /**
                         * Get a list of jobs in the history.
                         * 
                         * @method getJobHistory
                         * @param {Object} options
                         * @param {Number} options.start The location in the results to start
                         * @param {Number} options.count The number of jobs to return
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         * @param {Object[]} callback.jobs Array of jobs in the history
                         */
                        FabMoDashboard.prototype.getJobHistory = function(options, callback) {
                        	this._call(&quot;getJobHistory&quot;,options, callback);
                        }
                        
                        /**
                         * Run the next job in the job queue.
                         * 
                         * @method runNext
                         * @param {Object} options
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.runNext = function(callback) {
                        	this._call(&quot;runNext&quot;,null, callback);
                        }
                        
                        /**
                         * Pause the execution of the current job or operation.  Operation can be resumed.
                         * 
                         * @method pause
                         * @param {Object} options
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.pause = function(callback) {
                        	this._call(&quot;pause&quot;,null, callback);
                        }
                        
                        /**
                         * Stop execution of the current job or operation.  Operation cannot be resumed.
                         * 
                         * @method stop
                         * @param {Object} options
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.stop = function(callback) {
                        	this._call(&quot;stop&quot;,null, callback);
                        }
                        
                        /**
                         * Resume the current operation of the system is paused.
                         * 
                         * @method resume
                         * @param {Object} options
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.resume = function(callback) {
                        	this._call(&quot;resume&quot;,null, callback);
                        }
                        
                        /**
                         * Perform a fixed manual move in a single axis.  (Sometimes called a nudge)
                         * 
                         * @method manualMoveFixed
                         * @param {String} axis One of &#x60;x&#x60;,&#x60;y&#x60;,&#x60;z&#x60;,&#x60;a&#x60;,&#x60;b&#x60;,&#x60;c&#x60;
                         * @param {Number} speed Speed in current tool units
                         * @param {distance} distance The distance to move in current units
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.manualMoveFixed = function(axis, speed, distance, callback) {
                        	this._call(&quot;manualMoveFixed&quot;,{&quot;axis&quot;:axis, &quot;speed&quot;: speed, &quot;dist&quot;:distance}, callback);
                        }
                        
                        /**
                         * Start performing a manual move of the specified axis at the specified speed.
                         * 
                         * @method manualStart
                         * @param {Number} axis One of &#x60;x&#x60;,&#x60;y&#x60;,&#x60;z&#x60;,&#x60;a&#x60;,&#x60;b&#x60;,&#x60;c&#x60;
                         * @param {Number} speed Speed in current tool units.  Negative to move in the negative direction.
                         */
                        FabMoDashboard.prototype.manualStart = function(axis, speed) {
                        	this._call(&quot;manualStart&quot;,{&quot;axis&quot;:axis, &quot;speed&quot;:speed}, callback);
                        }
                        
                        /**
                         * Send a &quot;heartbeat&quot; to the system, authorizing continued manual movement.  Manual moves must be continually
                         * refreshed with this heartbeat function, or the tool will stop moving.
                         * 
                         * @method manualHeartbeat
                         */
                        FabMoDashboard.prototype.manualHeartbeat = function() {
                        	this._call(&quot;manualHeartbeat&quot;,{}, callback);
                        }
                        
                        /**
                         * Stop the tool immediately.
                         * 
                         * @method manualStop
                         */
                        FabMoDashboard.prototype.manualStop = function() {
                        	this._call(&quot;manualStop&quot;,{}, callback);
                        }
                        
                        /**
                         * Get the list of all the installed apps.
                         * @method getApps
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         * @param {Object} callback.apps List of app objects representing all installed apps.
                         */
                        FabMoDashboard.prototype.getApps = function(callback) {
                        	this._call(&quot;getApps&quot;,null,callback);
                        }
                        
                        
                        FabMoDashboard.prototype.submitApp = function(apps, options, callback) {
                        	var args = {apps : []};
                        
                        	if(apps instanceof jQuery) {
                        		if(apps.is(&#x27;input:file&#x27;)) {
                        			apps = apps[0];
                        		} else {
                        			apps = apps.find(&#x27;input:file&#x27;)[0];
                        		}
                        		var files = apps.files;
                        		if(files.length) {
                        			apps = [];
                        			for(var i=0; i&lt;files.length; i++) {
                        				apps.push(files[i]);
                        			}
                        		}
                        	} else {
                        		if(!apps.length) {
                        			apps = [apps];
                        		}
                        	}
                        
                        	for(var i=0; i&lt;apps.length; i++) {
                        		args.apps.push(_makeApp(apps[i]));
                        	}
                        	
                        	if(typeof options === &#x27;function&#x27;) {
                        		callback = options;
                        		options = {};
                        	}
                        
                        	args.options = options || {};
                        	this._call(&quot;submitApp&quot;, args, callback)
                        }
                        
                        FabMoDashboard.prototype.getConfig = function(callback) {
                        	this._call(&quot;getConfig&quot;, null, callback);
                        }
                        
                        FabMoDashboard.prototype.setConfig = function(data, callback) {
                        	this._call(&quot;setConfig&quot;, data, callback);
                        }
                        
                        FabMoDashboard.prototype.deleteApp = function(id, callback) {
                        	this._call(&quot;deleteApp&quot;,id,callback);
                        }
                        
                        FabMoDashboard.prototype.runGCode = function(text, callback) {
                        	this._call(&quot;runGCode&quot;, text, callback);
                        }
                        
                        FabMoDashboard.prototype.runSBP = function(text, callback) {
                        	this._call(&quot;runSBP&quot;, text, callback);
                        }
                        
                        FabMoDashboard.prototype.connectToWifi = function(ssid, key, callback) {
                        	this._call(&quot;connectToWifi&quot;, {&#x27;ssid&#x27;:ssid, &#x27;key&#x27;:key}, callback);
                        }
                        
                        FabMoDashboard.prototype.disconnectFromWifi = function(callback) {
                        	this._call(&quot;disconnectFromWifi&quot;, null, callback);
                        }
                        
                        FabMoDashboard.prototype.forgetWifi = function(ssid, key, callback) {
                        	this._call(&quot;forgetWifi&quot;, {&#x27;ssid&#x27;:ssid}, callback);
                        }
                        
                        FabMoDashboard.prototype.enableWifi = function(callback) {
                        	this._call(&quot;enableWifi&quot;, null, callback);
                        }
                        
                        FabMoDashboard.prototype.disableWifi = function(callback) {
                        	this._call(&quot;disableWifi&quot;, null, callback);
                        }
                        
                        FabMoDashboard.prototype.enableWifiHotspot = function(callback) {
                        	this._call(&quot;enableWifiHotspot&quot;, null, callback);
                        }
                        
                        FabMoDashboard.prototype.disableWifiHotspot = function(callback) {
                        	this._call(&quot;disableWifiHotspot&quot;, null, callback);
                        }
                        
                        FabMoDashboard.prototype.getWifiNetworks = function(callback) {
                        	this._call(&quot;getWifiNetworks&quot;, null, callback);
                        }
                        
                        FabMoDashboard.prototype.getWifiNetworkHistory = function(callback) {
                        	this._call(&quot;getWifiNetworkHistory&quot;, null, callback);
                        }
                        
                        
                        /**
                         * Get a list of all the macros installed on the tool.
                         * 
                         * @method getMacros
                         * @param callback
                         * @param {Error} callback.err Error object if there was an error.
                         * @param {Object} callback.macros List of macro objects currently installed.
                         */
                        FabMoDashboard.prototype.getMacros = function(callback) {
                        	this._call(&quot;getMacros&quot;, null, callback);
                        }
                        
                        /**
                         * Run the specified macro immediately.  Macro does not appear in the job history.
                         * 
                         * @method runMacro
                         * @param {Number} id The id of the macro to run.
                         * @param callback
                         * @param {Error} callback.err Error object if there was an error.
                         */
                        FabMoDashboard.prototype.runMacro = function(id, callback) {
                        	this._call(&quot;runMacro&quot;, id, callback);
                        }
                        
                        FabMoDashboard.prototype.updateMacro = function(id, macro, callback) {
                        	this._call(&quot;updateMacro&quot;, {&#x27;id&#x27;:id, &#x27;macro&#x27;:macro}, callback);
                        }
                        
                        /**
                         * Request a status report from the system.  The status object is returned in the callback to this function, as well as posted
                         * with the status event.  To recieve updates to system status as it changes, you should bind a handler to the status event,
                         * and _not_ poll using &#x60;requestStatus&#x60;.
                         * 
                         * @method requestStatus
                         * @param {function} callback
                         * @param {Object} callback.status The status report object
                         * @param {String} callback.status.state The system state, one of &#x60;idle&#x60;,&#x60;running&#x60;,&#x60;paused&#x60;,&#x60;stopped&#x60;,&#x60;manual&#x60; or &#x60;dead&#x60;
                         * @param {Number} callback.status.posx The current x-axis position
                         * @param {Number} callback.status.posy The current y-axis position
                         * @param {Number} callback.status.posz The current z-axis position
                         * @param {Number} callback.status.posa The current a-axis position
                         * @param {Number} callback.status.posb The current b-axis position
                         * @param {Number} callback.status.posc The current c-axis position
                         * @param {Number} callback.status.in1 The current state of input 1 (&#x60;0&#x60; or &#x60;1&#x60;)
                         * @param {Number} callback.status.in1 The current state of input 2 (&#x60;0&#x60; or &#x60;1&#x60;)
                         * @param {Number} callback.status.in1 The current state of input 3 (&#x60;0&#x60; or &#x60;1&#x60;)
                         * @param {Number} callback.status.in1 The current state of input 4 (&#x60;0&#x60; or &#x60;1&#x60;)
                         * @param {Number} callback.status.in1 The current state of input 5 (&#x60;0&#x60; or &#x60;1&#x60;)
                         * @param {Number} callback.status.in1 The current state of input 6 (&#x60;0&#x60; or &#x60;1&#x60;)
                         * @param {Number} callback.status.in1 The current state of input 7 (&#x60;0&#x60; or &#x60;1&#x60;)
                         * @param {Number} callback.status.in1 The current state of input 8 (&#x60;0&#x60; or &#x60;1&#x60;)
                         * @param {String} callback.status.unit The current tool units (either &#x60;in&#x60; or &#x60;mm&#x60;)
                         * @param {Number} callback.status.line The line number in the currently running file (if a file is running)
                         * @param {Number} callback.status.nb_lines The total number of lines in the currently running file (if a file is running)
                         * @param {boolean} callback.status.auth True if the tool is currently authorized for movement
                         * @param {Object} callback.status.current_file Object describing the currently running file (or null if not running a file)
                         * @param {Object} callback.status.job Object describing the currently running job (or null if not running a job) 
                         */
                        FabMoDashboard.prototype.requestStatus = function(callback) {
                        	this._call(&quot;requestStatus&quot;, null, callback);
                        }
                        
                        FabMoDashboard.prototype.deleteMacro = function(id, callback) {
                        	this._call(&quot;deleteMacro&quot;, id, callback);
                        }
                        
                        /**
                         * Get the configuration object for the currently running app.  The configuration object is a JSON object 
                         * of no specific description that is saved with each app.  It can be used to store app-specific configuration data.
                         *
                         * @method getAppConfig
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         * @param {Object} callback.config Configuration object or {} if no configuration has been saved in the app.
                         */
                        FabMoDashboard.prototype.getAppConfig = function(callback) {
                        	this._call(&quot;getAppConfig&quot;, null, callback);
                        }
                        
                        /**
                         * Set the app configuration to the provided option.
                         *
                         * @method setAppConfig
                         * @param {Object} config The configuration object to set.
                         * @param {function} callback
                         * @param {Error} callback.err Error object if there was an error.
                         * @param {Object} callback.config Configuration object or {} if no configuration has been saved in the app.
                         */
                        FabMoDashboard.prototype.setAppConfig = function(config, callback) {
                        	this._call(&quot;setAppConfig&quot;, config, callback);
                        }
                        
                        /**
                         * Get the current FabMo version
                         * 
                         * @method getVersion
                         * @param {fuction} callback
                         * @param {Error} callback.err Error object if there was an error.
                         * @param {Object} callback.version Object describing the fabmo software version.
                         * @param {String} callback.version.hash The git hash of the currently running FabMo software
                         * @param {String} callback.version.number The user-friendly release version number (or empty string if not a released version
                         * @param {boolean} callback.version.debug True if FabMo is running in &quot;debug mode&quot;
                         * @param {String} callback.version.type The type of FabMo software build.  &#x60;dev&#x60; for development or &#x60;release&#x60; for released build.
                         */
                        FabMoDashboard.prototype.getVersion = function(callback) {
                        	this._call(&quot;getVersion&quot;, null, callback);
                        }
                        
                        /**
                         * Control top level navigation for the dashboard.  Usually this is used to open another browser/tab window with a link from within an app,
                         * or more rarely, to navigate away from the dashboard.
                         * @method navigate
                         * @param {String} url The URL to open
                         * @param {Object} options Options for top-level navigation.
                         * @param {String} options.target The link target (same as the target argument of &#x60;window.open&#x60;)
                         */
                        FabMoDashboard.prototype.navigate = function(url, options, callback) {
                        	var loc = window.location.href;
                        	this._call(&quot;navigate&quot;, {&#x27;path&#x27; : loc.substr(0, loc.lastIndexOf(&#x27;/&#x27;)) + &#x27;/&#x27;, &#x27;url&#x27; : url, &#x27;options&#x27; : options || {}}, callback);
                        }
                        
                        var toaster = function () {
                        	var el = document.createElement(&#x27;div&#x27;);
                            el.setAttribute(&#x27;id&#x27;, &#x27;alert-toaster&#x27;);
                            el.style.cssText = &#x27;position:fixed; visibility:hidden; margin: auto; top: 20px; right: 20px; width: 250px; height: 60px; background-color: #F3F3F3; border-radius: 3px; z-index: 1005; box-shadow: 4px 4px 7px -2px rgba(0,0,0,0.75);&#x27;;
                            el.innerHTML = &quot;&lt;span id=&#x27;alert-text&#x27; style= &#x27;position:absolute; margin: auto; top: 0; right: 0; bottom: 0; left: 0; height: 20px; width: 250px; text-align: center;&#x27;&gt;&lt;/span&gt;&quot;;
                        	document.body.appendChild(el);
                            console.log(el);
                        }
                        var showToaster = function (toaster) {
                            toaster.style.visibility = &#x27;visible&#x27;;
                            setTimeout(function(){document.body.removeChild(toaster)}, 1000);
                        }
                        
                        return FabMoDashboard;
                        
                        }));
                        
                            </pre>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/jquery/jquery-1.8.2.min.js"></script>
<script src="../assets/vendor/bootstrap/js/bootstrap.js"></script>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script src="../assets/js/yuidoc-bootstrap.js"></script>
<script>prettyPrint();</script>
</body>
</html>
